<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SolbergTech</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">

    <nav class="nav">
      <div class="brand">
        <span class="logo">ST</span>
        <span>SolbergTech</span>
      </div>
      <div class="links">
        <a href="#tjenester">Tjenester</a>
        <a href="#om">Om</a>
        <a href="#kontakt">Kontakt</a>
      </div>
    </nav>

    <header class="hero">
      <h1>SolbergTech</h1>
      <p class="subtitle">Industriell automasjon, PLS/SCADA og fjernovervåking</p>
    </header>

    <section id="om">
      <h2>Om SolbergTech</h2>
      <p>
        SolbergTech leverer robuste og driftssikre løsninger innen industriell automasjon,
        med fokus på PLS-systemer, SCADA og sikker fjernovervåking.
      </p>
    </section>

    <section id="tjenester">
      <h2>Tjenester</h2>
      <div class="cards">
        <div class="card">PLS-programmering</div>
        <div class="card">Idriftsettelse</div>
        <div class="card">Fjernovervåking (4G/VPN)</div>
      </div>
    </section>

    <footer id="kontakt">
      <p>
        Kontakt:
        <a href="mailto:post@solbergtech.no">post@solbergtech.no</a>
      </p>
    </footer>

  </div>
  <script>
  async function loadTemperature() {
    const url = "https://api.solbergtech.no/temperature"; // <-- din VPS/API
    try {
      const res = await fetch(url, { cache: "no-store" });
      if (!res.ok) throw new Error("HTTP " + res.status);
      const data = await res.json();

      document.getElementById("tempValue").textContent = data.temperature_c?.toFixed(1) ?? "–";
      document.getElementById("tempTime").textContent = data.ts ?? "–";
    } catch (e) {
      document.getElementById("tempValue").textContent = "utilgjengelig";
      document.getElementById("tempTime").textContent = "–";
    }
  }

  loadTemperature();
  setInterval(loadTemperature, 60_000); // oppdater hvert 60. sekund
</script>
</body>
</html>
<section>
  <h2>Status</h2>
  <p>Temperatur: <strong id="tempValue">–</strong> °C</p>
  
  <p class="small">Sist oppdatert: <span id="tempTime">–</span></p>
</section>

